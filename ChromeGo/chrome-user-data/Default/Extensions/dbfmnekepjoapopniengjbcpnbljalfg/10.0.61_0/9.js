(window.webpackJsonp=window.webpackJsonp||[]).push([[9,39],{100:function(t,e,r){var n,a,o,i,c;n=r(361),a=r(258).utf8,o=r(362),i=r(258).bin,(c=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?i.stringToBytes(t):a.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var r=n.bytesToWords(t),s=8*t.length,u=1732584193,l=-271733879,d=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[s>>>5]|=128<<s%32,r[14+(s+64>>>9<<4)]=s;var f=c._ff,y=c._gg,w=c._hh,g=c._ii;for(p=0;p<r.length;p+=16){var m=u,_=l,b=d,x=h;u=f(u,l,d,h,r[p+0],7,-680876936),h=f(h,u,l,d,r[p+1],12,-389564586),d=f(d,h,u,l,r[p+2],17,606105819),l=f(l,d,h,u,r[p+3],22,-1044525330),u=f(u,l,d,h,r[p+4],7,-176418897),h=f(h,u,l,d,r[p+5],12,1200080426),d=f(d,h,u,l,r[p+6],17,-1473231341),l=f(l,d,h,u,r[p+7],22,-45705983),u=f(u,l,d,h,r[p+8],7,1770035416),h=f(h,u,l,d,r[p+9],12,-1958414417),d=f(d,h,u,l,r[p+10],17,-42063),l=f(l,d,h,u,r[p+11],22,-1990404162),u=f(u,l,d,h,r[p+12],7,1804603682),h=f(h,u,l,d,r[p+13],12,-40341101),d=f(d,h,u,l,r[p+14],17,-1502002290),u=y(u,l=f(l,d,h,u,r[p+15],22,1236535329),d,h,r[p+1],5,-165796510),h=y(h,u,l,d,r[p+6],9,-1069501632),d=y(d,h,u,l,r[p+11],14,643717713),l=y(l,d,h,u,r[p+0],20,-373897302),u=y(u,l,d,h,r[p+5],5,-701558691),h=y(h,u,l,d,r[p+10],9,38016083),d=y(d,h,u,l,r[p+15],14,-660478335),l=y(l,d,h,u,r[p+4],20,-405537848),u=y(u,l,d,h,r[p+9],5,568446438),h=y(h,u,l,d,r[p+14],9,-1019803690),d=y(d,h,u,l,r[p+3],14,-187363961),l=y(l,d,h,u,r[p+8],20,1163531501),u=y(u,l,d,h,r[p+13],5,-1444681467),h=y(h,u,l,d,r[p+2],9,-51403784),d=y(d,h,u,l,r[p+7],14,1735328473),u=w(u,l=y(l,d,h,u,r[p+12],20,-1926607734),d,h,r[p+5],4,-378558),h=w(h,u,l,d,r[p+8],11,-2022574463),d=w(d,h,u,l,r[p+11],16,1839030562),l=w(l,d,h,u,r[p+14],23,-35309556),u=w(u,l,d,h,r[p+1],4,-1530992060),h=w(h,u,l,d,r[p+4],11,1272893353),d=w(d,h,u,l,r[p+7],16,-155497632),l=w(l,d,h,u,r[p+10],23,-1094730640),u=w(u,l,d,h,r[p+13],4,681279174),h=w(h,u,l,d,r[p+0],11,-358537222),d=w(d,h,u,l,r[p+3],16,-722521979),l=w(l,d,h,u,r[p+6],23,76029189),u=w(u,l,d,h,r[p+9],4,-640364487),h=w(h,u,l,d,r[p+12],11,-421815835),d=w(d,h,u,l,r[p+15],16,530742520),u=g(u,l=w(l,d,h,u,r[p+2],23,-995338651),d,h,r[p+0],6,-198630844),h=g(h,u,l,d,r[p+7],10,1126891415),d=g(d,h,u,l,r[p+14],15,-1416354905),l=g(l,d,h,u,r[p+5],21,-57434055),u=g(u,l,d,h,r[p+12],6,1700485571),h=g(h,u,l,d,r[p+3],10,-1894986606),d=g(d,h,u,l,r[p+10],15,-1051523),l=g(l,d,h,u,r[p+1],21,-2054922799),u=g(u,l,d,h,r[p+8],6,1873313359),h=g(h,u,l,d,r[p+15],10,-30611744),d=g(d,h,u,l,r[p+6],15,-1560198380),l=g(l,d,h,u,r[p+13],21,1309151649),u=g(u,l,d,h,r[p+4],6,-145523070),h=g(h,u,l,d,r[p+11],10,-1120210379),d=g(d,h,u,l,r[p+2],15,718787259),l=g(l,d,h,u,r[p+9],21,-343485551),u=u+m>>>0,l=l+_>>>0,d=d+b>>>0,h=h+x>>>0}return n.endian([u,l,d,h])})._ff=function(t,e,r,n,a,o,i){var c=t+(e&r|~e&n)+(a>>>0)+i;return(c<<o|c>>>32-o)+e},c._gg=function(t,e,r,n,a,o,i){var c=t+(e&n|r&~n)+(a>>>0)+i;return(c<<o|c>>>32-o)+e},c._hh=function(t,e,r,n,a,o,i){var c=t+(e^r^n)+(a>>>0)+i;return(c<<o|c>>>32-o)+e},c._ii=function(t,e,r,n,a,o,i){var c=t+(r^(e|~n))+(a>>>0)+i;return(c<<o|c>>>32-o)+e},c._blocksize=16,c._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(c(t,e));return e&&e.asBytes?r:e&&e.asString?i.bytesToString(r):n.bytesToHex(r)}},123:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return i}));r(18);const n=r(0).r?"serviceworker":"background";let a=!1;"background"===n?a="undefined"==typeof ServiceWorkerGlobalScope&&chrome.extension.getBackgroundPage()===window:"serviceworker"===n&&(a="undefined"!=typeof ServiceWorkerGlobalScope);const o={timeout:0,taskId:""},i=()=>(""+Date.now()/1e3/1e5).split(".")[1].substr(0,8)+(""+Math.random()).split(".")[1].substr(0,8).padEnd(8,"0")},130:function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return o}));var n=r(188);const a={notice:{gmail:!1,gmailVoice:!1,gmailNumber:!1,todoNumber:!0},link:{icon:!!r(0).r,search:!0,bookmark:!1,history:!1},view:{topBookmark:!1,topUseful:!1,windmill:!0,pagin:!1,isShowHomepageBtn:!0,isHideIcp:!1,scaleSide:1,scaleMain:1},layout:{row:2,col:5,rowGap:.2,colGap:.3,custom:!1,customItem:[3,4]},animation:{easing:"linear"},icon:{miniMode:!1,shadow:!1,startAnimation:!1,opacity:1,radius:.5,scale:.5,isHideIconName:!1},search:{hide:!1,searchSuggest:!0,hideCategory:!1,hideButton:!0,shadow:!0,scale:.82,radius:n.i,opacity:1},font:{shadow:!0,size:15,color:"rgb(221, 221, 221)"}},o=function(t,e){let r=null;switch(t+"*"+e){case"2*4":case"2*5":r={iconScale:.5,colGap:.3,rowGap:.2,searchScale:.82};break;case"2*6":r={iconScale:.6,colGap:.3,rowGap:.3,searchScale:.9};break;case"2*7":r={iconScale:.7,colGap:.3,rowGap:.3,searchScale:.9};break;case"3*3":r={iconScale:.7,colGap:.24,rowGap:.2,searchScale:.82}}return r}},190:function(t,e,r){"use strict";r.r(e),r.d(e,"imgConfig",(function(){return s})),r.d(e,"getRandomWallpaper",(function(){return u})),r.d(e,"getBingWallpaper",(function(){return l})),r.d(e,"getWallpapers",(function(){return d})),r.d(e,"likeWallpaper",(function(){return h})),r.d(e,"collectionWallpaper",(function(){return p})),r.d(e,"addCustomColor",(function(){return f})),r.d(e,"setCustomColorItems",(function(){return y})),r.d(e,"getCustomColor",(function(){return w})),r.d(e,"removeCustomColor",(function(){return g})),r.d(e,"uploadWallpaper",(function(){return m})),r.d(e,"getWallpapersById",(function(){return _})),r.d(e,"createWallpaperLibrary",(function(){return b})),r.d(e,"getUserWallpaperLibrary",(function(){return x})),r.d(e,"hasWallpaperLibrary",(function(){return v})),r.d(e,"getLikedWallpaper",(function(){return k})),r.d(e,"getCollectionWallpaper",(function(){return S})),r.d(e,"getWallpaperLibraryItems",(function(){return T})),r.d(e,"getUserWallpaperLibraryItemsById",(function(){return I})),r.d(e,"removeWallpaperLibraryItem",(function(){return C})),r.d(e,"removeWallpaperLibrary",(function(){return M})),r.d(e,"addImagesToLibrary",(function(){return W})),r.d(e,"renameWallpaperLibrary",(function(){return O})),r.d(e,"getNextWallpaper",(function(){return B})),r.d(e,"convertURL",(function(){return U}));r(10),r(52);var n=r(0),a=r(5),o=r(23);const i=Math.floor(screen.width*window.devicePixelRatio),c=Math.floor(203*window.devicePixelRatio),s={smallWidth:c>3840?3840:c,normalWidth:i>3840?3840:i,format:o.c?"":"format/webp/"},u=async()=>{try{const t=await a.a.get(n.w+"/random-wallpaper",{_:(new Date).getTime()});if(!t.success)throw t;const{src:e,_id:r,source:o}=t.data[0],{url:i,rawUrl:c}=U(e.rawSrc);return{data:{url:i,rawUrl:c,id:r,source:o}}}catch(t){return{error:t}}},l=async()=>{try{const t=await a.a.get(n.x+"/get_bing_wallpaper",null,{_single:"getBingWallpaper"});if(t.error)throw t.error;const{data:e}=t,{content:r,url:o,rawUrl:i}=U(e.src.rawSrc);return e.thumbnail=r,e.url=o,e.rawUrl=i,t}catch(t){return{error:t}}},d=async t=>{const{source:e}=t;t.source="all"===e?"":e;try{const e=await a.a.get(n.w+"/get-wallpaper",t,{_single:"getWallpapers"}),{data:r}=e;return r.forEach(t=>{const{content:e,url:r,rawUrl:n}=U(t.src.rawSrc);t.thumbnail=e,t.url=r,t.rawUrl=n}),{result:e}}catch(t){return{error:t}}},h=async(t,e)=>{try{const r=await a.a.post(n.x+"/like_wallpaper",{id:t,state:e},{_auth:!0});if(0!==r.code)throw r;return r}catch(t){return{error:t}}},p=async(t,e)=>{try{const r=await a.a.post(n.x+"/collection_wallpaper",{id:t,state:e},{_auth:!0});if(0!==r.code)throw r;return r}catch(t){return{error:t}}},f=async t=>{try{const e=await a.a.post(n.x+"/add_custom_color",Object.assign(Object.assign({},t),{newVer:!0}),{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},y=async t=>{try{const e=await a.a.post(n.x+"/set_custom_color_items",t,{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},w=async()=>{try{const t=await a.a.get(n.x+"/get_custom_color",null,{_auth:!0});if(0!==t.code)throw t;return t}catch(t){return{error:t}}},g=async t=>{try{const e=await a.a.post(n.x+"/remove_custom_color",{id:t,newVer:!0},{_auth:!0});if(0!==e.code)throw e;return e}catch(t){return{error:t}}},m=async t=>{try{const e=await a.a.post(n.x+"/upload_wallpaper",t,{headers:{"Content-Type":"multipart/form-data"}});if(0!==e.code)throw e;return{data:e.data}}catch(t){return{error:t}}},_=async t=>{try{const e=await a.a.get(n.x+"/get_wallpapers_by_id",{id:t});if(0!==e.code)throw e;const{data:r}=e;return r.forEach(t=>{const{content:e,url:r,rawUrl:n}=U(t.src.rawSrc);t.thumbnail=e,t.url=r,t.rawUrl=n}),{data:r}}catch(t){return{error:t}}},b=async({libraryName:t,libraryId:e,wallpapers:r})=>{try{return await a.a.post(n.x+"/create_wallpaper_library",{libraryName:t,libraryId:e,wallpapers:r},{_auth:!0})}catch(t){return{error:t}}},x=async()=>await a.a.get(n.x+"/get_user_wallpaper_library",null,{_auth:!0}),v=async t=>{try{return await a.a.get(n.x+"/has_wallpaper_library",{libraryId:t},{_auth:!0,_proxy:!0})}catch(t){return{error:t}}},k=async()=>{try{return await a.a.get(n.x+"/get_liked_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},S=async()=>{try{return await a.a.get(n.x+"/get_collection_wallpaper",null,{_auth:!0})}catch(t){return{error:t}}},T=async t=>{const e=await a.a.get(n.x+"/get_user_wallpaper_library_items",{libraryId:t});e.data.map(t=>{const{content:e,url:r,rawUrl:n}=U(t.url);return t.content=e,t.url=r,t.rawUrl=n,t});const{data:r}=e;return e.data={items:r,count:r.length},e.data},I=async t=>{try{const e=await a.a.get(n.x+"/get_user_wallpaper_library_items_by_id",{libraryItemsId:t}),{data:r}=e;return e.data={items:r,count:r.length},e.data}catch(t){return{error:t}}},C=async(t,e,r)=>{try{return await a.a.post(n.x+"/remove_wallpaper_library_item",{libraryId:t,libraryItemId:e,ext:r},{_auth:!0})}catch(t){return{error:t}}},M=async t=>{try{return await a.a.post(n.x+"/remove_wallpaper_library",{libraryId:t},{_auth:!0})}catch(t){return{error:t}}},W=async(t,e)=>{try{return await a.a.post(n.x+"/add_images_to_library",{libraryId:t,wallpapers:e},{_auth:!0})}catch(t){return{error:t}}},O=async(t,e)=>{try{return await a.a.post(n.x+"/rename_wallpaper_library",{libraryId:t,libraryName:e},{_auth:!0})}catch(t){return{error:t}}},B=async(t,e,r="library")=>{const o={source:t,type:r};e&&(o._id=e);const i=await a.a.get(n.x+"/get_next_wallpaper",o,{_single:"getNextWallpaper"});if(0!==i.code)throw new Error;const{data:c}=i,{content:s,url:u,rawUrl:l}=U(c.rawUrl);return c.thumbnail=s,c.url=u,c.rawUrl=l,i},U=t=>({rawUrl:t,url:`${t}?imageView2/2/w/${s.normalWidth}/${s.format}interlace/1`,content:`${t}?imageView2/2/w/${s.smallWidth}/${s.format}interlace/1`})},22:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return l})),r.d(e,"e",(function(){return d})),r.d(e,"f",(function(){return h})),r.d(e,"g",(function(){return p})),r.d(e,"a",(function(){return f}));var n=r(7),a=r.n(n),o=(r(10),r(13),r(17),r(0)),i=r(26),c=r.n(i);function s(t,e){if(o.l){if(t=window.chrome.runtime.getURL(t),null==e?void 0:e.isNewTab)return window.chrome.tabs.create({url:t});window.chrome.tabs.getCurrent(e=>window.chrome.tabs.update(e.id,{url:t},()=>{chrome.runtime.lastError&&t&&(t.startsWith("http")?window.open(t,"_self"):window.chrome.tabs.create({url:t}))}))}else{if(null==e?void 0:e.isNewTab)return window.open(t);window.open(t,"_self")}}async function u(){if(o.l){const{slave:t}=await r.e(13).then(r.bind(null,178));window.chrome.tabs.getCurrent(e=>{t.sendMessage("tabs-reload"),setTimeout(()=>{window.chrome.tabs.remove(e.id)},16)})}else setTimeout(()=>{s("/")},16)}async function l(t,e){try{if(e){return await c.a.getItem(t)}{const e=localStorage.getItem(t);if(e)return"string"==typeof e?JSON.parse(e):e}}catch(t){throw new Error(t)}}async function d(t,e,r){r?await c.a.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}async function h(t,e,r=!1){const n=await l(t,r);if(n&&Object.keys(n).length){d(t,Object.assign({},n,e),r)}else d(t,e,r)}async function p(t,e){const{autoBackupPipe:r}=await l("store-sync",!0);r.data[t]=e,r.timestamp=Date.now(),r.websocketKeys.includes(t)||r.websocketKeys.push(t),await h("store-sync",{autoBackupPipe:r},!0)}async function f(){const t=await new a.a(t=>chrome.bookmarks.getTree(t));if(o.n){const e=t[0].children.findIndex(t=>"unfiled_____"===t.id),r=t[0].children.findIndex(t=>"toolbar_____"===t.id);if(-1!==e&&-1!==r)if(e>r){const[n]=t[0].children.splice(e,1),[a]=t[0].children.splice(r,1);t[0].children.unshift(a,n)}else{const[n]=t[0].children.splice(r,1),[a]=t[0].children.splice(e,1);t[0].children.unshift(n,a)}}return t}},241:function(t,e){var r=1;function n(t){var e=[];for(var r in t)e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}t.exports=function(t){return new Promise((function(e,a){var o=document.createElement("script"),i=t.url;if(t.params){var c=n(t.params);c&&(i+=(i.indexOf("?")>=0?"&":"?")+c)}function s(){o&&(o.onload=o.onreadystatechange=o.onerror=null,o.parentNode&&o.parentNode.removeChild(o),o=null)}o.async=!0;var u="axiosJsonpCallback"+r++,l=window[u],d=!1;window[u]=function(t){(window[u]=l,d)||e({data:t,status:200})};var h={_:(new Date).getTime()};h[t.callbackParamName||"callback"]=u,i+=(i.indexOf("?")>=0?"&":"?")+n(h),o.onload=o.onreadystatechange=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||s()},o.onerror=function(){s(),a(new Error("Network Error"))},t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(d=!0,a(t))})),o.src=i,document.head.appendChild(o)}))}},249:function(t,e,r){"use strict";var n=r(46),a=r(20),o=r(4),i=r(11),c=r(16),s=r(21).f,u=r(124),l=o.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};u(h,l);var p=h.prototype=l.prototype;p.constructor=h;var f=p.toString,y="Symbol(test)"==String(l("test")),w=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=f.call(t);if(i(d,t))return"";var r=y?e.slice(7,-1):e.replace(w,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},250:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));const n=t=>{const e=a(t),r=o(t,e);return{searchWidth:e.width,searchHeight:e.height,searchMarginTop:e.marginTop,searchMarginBottom:e.marginBottom,searchRatio:e.searchRatio,iconBoxWidth:r.boxWidth,iconBoxHeight:r.boxHeight,iconOneHeight:r.iconOneHeight,iconWidth:r.width,miniIconPadding:r.miniIconPadding,iconRatio:r.iconRatio,iconsMargin:r.iconsMargin}},a=t=>{const{searchScale:e,innerHeight:r,innerWidth:n,miniMode:a,topBookmark:o,topUseful:i,mainRatio:c}=t;let s=0;i&&(s+=36),o&&(s+=36);const u=r-s,l=n-.2*n;let d=n,h=9*d/16;h>u&&(h=u,d=16*h/9);const p=d*(.575-.1818*Math.max(Math.min(720,d-1200),0)/720),f={width:p*e,height:h*(.0963-.0296*Math.max(Math.min(405,h-675),0)/405)*e};f.width>l&&(f.height=l/f.width*f.height,f.width=l);const y={width:f.width*c,height:f.height*c};let w=null;w=a?-.3:-.06;const g=f.width/p*c,m=Math.floor(w*u*g)+"px",_=Math.floor(.775*y.height)+"px";return{width:Math.floor(y.width)+"px",height:Math.floor(y.height)+"px",searchRatio:Number((y.width/625).toFixed(2)),marginTop:m,marginBottom:_,appContentWidth:l,appContentHeight:u,searcherSizeWithRatio:f}},o=(t,e)=>{const{row:r,col:n,rowGap:a,colGap:o,iconScale:i,innerWidth:c,mainRatio:s,fontSize:u}=t;let l=c;l<1200?l=1200:l>1920&&(l=1920);const{appContentHeight:d,appContentWidth:h,searcherSizeWithRatio:p}=e,f=h,y=.8*d-2.451*p.height,w=1+.5*(1920-l)/720,g=f/n,m=y/r,_=Math.min(Math.min(g,m)*i*w,g,m),b=(y-r*_)/r*a/2,x=n*(_+2*((f-n*_)/n*o/2));let v=Math.min(Math.ceil(x*s),c);let k=r*(_+2*b)*s;const S=_*s,T=1.3*Math.max(u*s,12)+.9*S*.08,I=1.2*(25+T);v<n*I&&(v=n*I),k<r*I&&(k=r*I);let C=.9*S-T-1;C<25&&(C=25);const M=.1*c*s;return{width:Math.floor(C)+"px",miniIconPadding:Math.floor(C/7+4)+"px",boxWidth:Math.ceil(v)+"px",boxHeight:Math.floor(k)+"px",iconOneHeight:Math.floor(k/r)+"px",iconRatio:Number((C/106).toFixed(2)),iconsMargin:Math.floor(M)+"px"}}},251:function(t,e,r){t.exports=r(363)},257:function(t,e,r){"use strict";r.r(e),r.d(e,"uploadFile",(function(){return c}));r(10);var n=r(0),a=r(5);const o=["infinity-notes-img","custom-wallpaper-library"],i={},c=async(t,e,r)=>{let c;try{if(i[r]&&i[r].endTime>Date.now())c=i[r];else{let t=null;if(t=o.includes(r)?await a.a.get(n.x+"/upload/public_private_token",{type:r},{_auth:!0}):await a.a.get(n.x+"/upload/token",{type:r}),0!==t.code||!t.data.token)return{error:t};c=t.data,c.endTime=Date.now()+1e3*(c.expires-600),i[r]=c}const{token:s,prefix:u}=c,l=new FormData;l.append("token",s),l.append("key",u+e),l.append("file",t,e);const{key:d,url:h}=await a.a.post(c.host,l,{timeout:18e4,headers:{"Content-Type":"multipart/form-data"}});return{data:{url:h,key:d}}}catch(t){return{error:t}}}},258:function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},259:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(13),r(17);class n{constructor(){this._events=new Map}listenTask(t,e){if("function"!=typeof e)return;this._events.has(t)||this._events.set(t,new Set);this._events.get(t).add(e)}execTask(t,e,...r){if(this._events.has(t)){const n=this._events.get(t);for(const t of n)t(e,...r)}}}},361:function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var a=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?e.push(r.charAt(a>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,a=0;n<t.length;a=++n%4)0!=a&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*a+8)-1)<<2*a|r.indexOf(t.charAt(n))>>>6-2*a);return e}},t.exports=n},362:function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},363:function(t,e,r){var n=r(364);t.exports=n},364:function(t,e,r){r(240);var n=r(365),a=r(126),o=Array.prototype,i={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===o||t instanceof Array&&e===o.keys||i.hasOwnProperty(a(t))?n:e}},365:function(t,e,r){var n=r(366);t.exports=n},366:function(t,e,r){r(191);var n=r(177);t.exports=n("Array").keys},5:function(t,e,r){"use strict";r.d(e,"b",(function(){return _})),r.d(e,"a",(function(){return b}));r(18),r(10),r(13),r(17);var n=r(7),a=r.n(n),o=r(106),i=r.n(o),c=r(0),s=r(3);const u=i.a.create({timeout:3e4});let l=!1;const d=[],h=()=>new a.a(async(t,e)=>{if(d.push({resolve:t,reject:e}),!l){l=!0;try{const{userStore:t}=await Promise.all([r.e(0),r.e(1),r.e(6),r.e(8),r.e(30)]).then(r.bind(null,581)),{refreshToken:e}=t;if(!e)return t.setOutdated(),l=!1,void d.forEach(t=>{t.reject(new Error("no refreshtoken"))});const{status:n,data:a}=await u.post(c.x+"/refresh_token",{refresh_token:e},{headers:{"i-lang":c.C.lang}});if(200===n&&0===a.code){const{token:e,refreshToken:r}=a.data;Object(s.i)(()=>{t.token=e,t.refreshToken=r}),l=!1,d.forEach(t=>{t.resolve(e)})}else{if(200!==n||3010!==a.code&&3012!==a.code)throw new Error(null==a?void 0:a.message);t.setOutdated(),l=!1,d.forEach(t=>{t.reject(a.message)})}}catch(t){l=!1,d.forEach(e=>{e.reject(t)})}}});var p=r(14);r(52);const f=["params","data","_auth"],y=async t=>{const{slave:e}=await r.e(13).then(r.bind(null,178)),n=((t,e={})=>{const r=Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`);return r.length?t.includes("?")?t+r.join("&"):t+"?"+r.join("&"):t})(t.url,t.params),{request:a,option:o}=(t=>{const e={},r={};return t.data&&!e.body&&(e.body=JSON.stringify(t.data)),Object.keys(t).forEach(n=>{f.includes(n)||(n.startsWith("_")?r[n]=t[n]:e[n]=t[n])}),{request:e,option:r}})(t);return e.postTask("slave:fetch",{url:n,request:a,option:o})},w=i.a.CancelToken,g=i.a.create({timeout:6e4});g.interceptors.response.use(null,t=>(t.message=i18n("network_error"),a.a.reject(t)));const m=Object.create(null),_=t=>{m[t]&&m[t]()},b=async t=>{if(t._single){const e=(t=>{let e;return e=!0===t._single?t.method+"-"+t.url.split("?")[0]:t._single,e})(t);m[e]&&m[e](),t.cancelToken=new w(t=>{m[e]=t})}var e;t._delay&&await(e=t._delay,new a.a(t=>{setTimeout(t,e)}));const n={};if(t._auth){const{userStore:e}=await Promise.all([r.e(0),r.e(1),r.e(7),r.e(39)]).then(r.bind(null,390));if(!e||!e.token)throw new Error("error token");{const r=p.a.parseJwt(e.token),a=await p.a.getTimestamp();if(t._Authorization)n.Authorization=t._Authorization,n["i-token"]=t._Authorization;else if(Math.floor(a/1e3)>r.exp-60){const t=await h();n.Authorization="Bearer "+t,n["i-token"]="Bearer "+t}else n.Authorization="Bearer "+e.token,n["i-token"]="Bearer "+e.token}}let o;if(t.url.includes(c.x)&&(n["i-lang"]=c.C.lang,n["i-edition"]=c.e,n["i-version"]=c.C.extVersion),t.headers=Object.assign(Object.assign({},n),t.headers),o=t._proxy?await y(t):await g(t),t._responseAll)return o;let{data:i}=o;if(!t._Authorization&&3010===(null==i?void 0:i.code)){const e=await h();t._Authorization="Bearer "+e,delete t.headers.Authorization,delete t.headers["i-token"],i=await b(t)}return i};["get","delete"].forEach(t=>{b[t]=(e,r,n={})=>b(Object.assign({url:e,params:r,method:t},n))}),["post","patch","put"].forEach(t=>{b[t]=(e,r,n={})=>b(Object.assign({url:e,data:r,method:t},n))}),b.jsonp=(t,e,r={})=>b(Object.assign({url:t,params:e},r))},81:function(t,e,r){"use strict";r.d(e,"i",(function(){return n})),r.d(e,"d",(function(){return a})),r.d(e,"h",(function(){return C})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i})),r.d(e,"g",(function(){return c})),r.d(e,"e",(function(){return u})),r.d(e,"f",(function(){return Tt})),r.d(e,"c",(function(){return s}));var n={};r.r(n),r.d(n,"getLocalCity",(function(){return h})),r.d(n,"getForecastWeather",(function(){return p})),r.d(n,"getCityList",(function(){return f}));var a={};r.r(a),r.d(a,"getSearchSuggest",(function(){return b})),r.d(a,"getEnginesList",(function(){return x}));var o={};r.r(o),r.d(o,"getIcon",(function(){return N})),r.d(o,"getUrlInfoWithPermission",(function(){return R})),r.d(o,"getUrlIcon",(function(){return z})),r.d(o,"getFetchiconUrls",(function(){return D})),r.d(o,"getRedirectTargets",(function(){return $}));var i={};r.r(i),r.d(i,"getUnreadEmails",(function(){return G}));var c={};r.r(c),r.d(c,"register",(function(){return X})),r.d(c,"login",(function(){return Z})),r.d(c,"updateProfile",(function(){return Y})),r.d(c,"getUserProfile",(function(){return Q})),r.d(c,"uploadAvatar",(function(){return tt})),r.d(c,"modifyPassword",(function(){return et})),r.d(c,"forgetPassword",(function(){return rt})),r.d(c,"resetPassword",(function(){return nt})),r.d(c,"getCode",(function(){return at})),r.d(c,"getRegisterCode",(function(){return ot})),r.d(c,"inspceCode",(function(){return it})),r.d(c,"checkTokenIsExpired",(function(){return ct})),r.d(c,"deleteAccount",(function(){return st})),r.d(c,"loginWithUid",(function(){return ut})),r.d(c,"v1BasicLogin",(function(){return lt})),r.d(c,"getMobileUid",(function(){return dt})),r.d(c,"getMobileloginUrl",(function(){return ht})),r.d(c,"checkMobileloginUrl",(function(){return pt}));var s={};r.r(s),r.d(s,"getRepairConcat",(function(){return ft})),r.d(s,"postErrorCollect",(function(){return yt})),r.d(s,"sendLog",(function(){return wt}));var u={};r.r(u),r.d(u,"getSyncList",(function(){return bt})),r.d(u,"getSyncDetail",(function(){return xt})),r.d(u,"autoBackup",(function(){return vt})),r.d(u,"manualBackup",(function(){return kt})),r.d(u,"getV2DataFromV1",(function(){return St}));r(10);var l=r(0),d=r(5);const h=async()=>{try{const t=await d.a.get(l.z+"/city/locate",{lang:l.C.lang},{timeout:1e4});if(t&&t.city)return{data:t.city}}catch(t){return{error:t}}},p=async t=>{try{return{data:(await d.a.get(l.z+"/weather/forecast",{lang:l.C.lang,cid:t},{timeout:1e4})).forecast}}catch(t){return{error:t}}},f=async t=>{try{return{data:await d.a.get(l.z+"/city/list",{lang:l.C.lang,searchkey:t},{timeout:1e4})}}catch(t){return{error:t}}};r(18);var y=r(14),w=r(100),g=r.n(w),m=r(241),_=r.n(m);const b=async t=>l.C.isZh?l.h||l.r?k(t):T(t):l.h||l.r?S(t):I(t),x=async t=>{let e=l.q?36e5:6e4;t||(e=0);try{if(!y.a.requestFirefoxThrottle("/search/list",e,!0))return{error:"request throttle error"};const r=await d.a.get(l.x+"/search/list",{lang:l.C.lang,platform:l.C.platform,platformVersion:l.C.platformVersion,edition:l.e,maybe360:l.E,version:t||""+Date.now()});if(0===r.code){const t=r.data.map(t=>{const e={};return e.name=t.name,e.uuid=t.seId,e.logo=t.logo,e.desc=t.desc,e.types=t.types,e.hide=t.hide,e});return y.a.requestFirefoxThrottle("/search/list",!0,!0),{data:{list:t,hash:g()(JSON.stringify(t)),meta:r.meta}}}if(2005===r.code)return y.a.requestFirefoxThrottle("/search/list",!0,!0),{error:r};throw r}catch(t){return{error:t}}},v=y.a.getLastReqValue(d.a.jsonp),k=async t=>{var e;try{const r=await v(l.b+"/su?ie=utf-8&p=3",{wd:t},{adapter:_.a,callbackParamName:"cb"});return{data:(null===(e=null==r?void 0:r.s)||void 0===e?void 0:e.map(t=>({text:t})))||[]}}catch(t){return{error:t}}},S=async t=>{var e;try{const r=await v(l.g+"/complete/search?client=chrome",{q:t},{adapter:_.a,callbackParamName:"jsonp"});return{data:(null==r?void 0:r.length)&&(null===(e=r[1])||void 0===e?void 0:e.length)?r[1].map(t=>({text:t})):[]}}catch(t){return{error:t}}},T=async t=>{try{const e=await d.a.get(l.b+"/su?p=3&ie=UTF-8&cb=",{wd:t},{_single:!0,_delay:0}),r=/s:(\[[\w\W]*\])/.exec(e),n=JSON.parse(r[1]);return{data:n.map(t=>({text:t}))}}catch(t){return{error:t}}},I=async t=>{try{const e=await d.a.get(l.g+"/complete/search?client=chrome",{q:t},{_single:!0,_delay:200});return{data:e[2].map((t,r)=>(t||(t=e[1][r]),{text:t}))}}catch(t){return{error:t}}};var C=r(190),M=r(7),W=r.n(M),O=r(105),B=r.n(O),U=r(48),j=r.n(U);r(52),r(249),r(13),r(17),r(44);const E=l.C.lang,N=async({page:t=0,type:e,keyword:r,source:n}={})=>{try{const a=await d.a.get(l.w+"/get-icons",{lang:E,page:t,type:e,source:n,keyword:r},{_single:!0,_delay:200});if(a.success)return a.icons.forEach(t=>{if("infinity"===t.source)switch("infinity://wallpaper"===t.url&&(t.name="wallpaper_library"),t.url){case"infinity://wallpaper":case"infinity://weather":case"infinity://todos":case"infinity://notes":case"infinity://history":case"infinity://bookmarks":case"infinity://settings":t.name=i18n(t.name),t.description=i18n(t.description);break;case"infinity://extension":t.name=i18n(t.name),t.description=i18n(t.description,l.C.vendor)}t._footer=t.description||i18n("no_description")}),{data:a};throw a}catch(t){return{error:t}}},A=async t=>{try{const e=await d.a.get(l.x+"/icon/title",{url:t},{_single:!0,_delay:0,timeout:3e3});if(0===e.code)return{data:{name:e.data.title}};throw e}catch(t){return{error:t}}},P=/<title[^>]*>\s*(.*)\s*<\/title>/,R=t=>window.__INFINITY__.hasAllUrlPermission?new W.a(async e=>{let r=0;A(t).then(t=>{r+=1,t.error&&2!==r||e(t)}),(async t=>{try{const e=await d.a.get(t,{},{_single:"getUrlInfoFromFE",timeout:3e3,responseType:"text",_responseAll:!0}),r=e.data;if(r&&e.status>=200&&e.status<300){const t=r.indexOf("<title");if(t>0){const e=r.slice(t,t+200),n=P.exec(e),a=null==n?void 0:n[1];if(a)return{data:{name:a}}}}return{error:"error"}}catch(t){return{error:t}}})(t).then(t=>{r+=1,t.error&&2!==r||e(t)})}):new W.a(async e=>{e(await A(t))}),q=(t,e)=>{if(0===e.length)return e;const r=new Map,n=[];return t.forEach((t,e)=>{r.set(t,e)}),e.forEach(t=>{const e=r.get(t);n[e]=t}),n.filter(t=>!!t)},L=t=>new W.a(e=>{const r=()=>{const e=q(t,o),r=q(t,i),n=q(t,c);return e.concat(r,n)},n=t.length;let a=0;const o=[],i=[],c=[];t.forEach(t=>{const s=new Image;s.onload=function(){a+=1;const{width:s,height:u}=this,l=Math.max(s,u),d=Math.min(s,u);l/d<5?d>50&&l>100?o.push(t):d>50||l>100?i.push(t):c.push(t):c.push(t),a===n&&e(r())},s.onerror=()=>{a+=1,a===n&&e(r())},s.src=t}),setTimeout(()=>{e(r())},3e3)}),F=/\.(ico|png|jpg|jpeg|svg|webp)$/,z=async t=>{var e;try{const r=await d.a.get(t,{},{_single:"getUrlIcon",timeout:3e3,responseType:"text",_responseAll:!0}),n=r.data;if(n&&r.status>=200&&r.status<300){const a=(null===(e=r.request)||void 0===e?void 0:e.responseURL)||t;let o=((t,e)=>{const r=[];return e.replace(/<link [^>]*href=['"]([^'"]+)[^>]*/gi,(t,e)=>{r.push(e)}),B()(r).call(r,(e,r)=>{if(r&&F.test(r)){const n=new j.a(r,t);e.push(n.href)}return e},[])})(a,n);if(o.length<6){const t=((t,e)=>{const r=[];return e.replace(/<img [^>]*src=['"]([^'"]+)[^>]*/gi,(t,e)=>{r.push(e)}),B()(r).call(r,(e,r)=>{if(r&&F.test(r)){const n=new j.a(r,t);e.push(n.href)}return e},[])})(a,n);o=o.concat(t)}o.length>4&&(o.length=4);let i=await L(o);return i=Array.from(new Set(i)),i.length>2&&(i.length=2),{data:i}}return{error:""}}catch(t){return{error:t}}},D=async t=>{try{const{host:e}=new j.a(t),r=await d.a.get(l.x+"/icon/get_icon_urls",{host:e});return 0!==r.code?{error:r}:{data:r.data.map(t=>t.url)}}catch(t){return{error:t}}},$=async t=>{var e;let r=l.q?36e5:6e4;t||(r=0);try{if(!y.a.requestFirefoxThrottle("/icon/rt",r,!0))return{error:"request throttle error"};const n=await d.a.post(l.x+"/icon/rt",{version:t||""+Date.now()});return 0===n.code&&y.a.requestFirefoxThrottle("/icon/rt",!0,!0),0===n.code&&n.data?{data:{list:n.data,version:null===(e=n.meta)||void 0===e?void 0:e.version}}:{error:n}}catch(t){return{error:t}}};function H(t){return t?t.textContent:null}function G(t){return new W.a((e,r)=>{const n=new XMLHttpRequest;n.onreadystatechange=function(){var t,a;if(4==n.readyState)if(n.responseXML){const r=n.responseXML;let o=H(r.querySelector("title"));if(o)try{o=/(\w+)@(\w+\.\w+)/.exec(o)[0]}catch(t){}const i=parseInt(H(r.querySelector("fullcount")),10),c=r.querySelectorAll("entry"),s=[];let u=-1;for(let e=0,r=c.length;e<r;e++){const r=c[e],n={id:H(r.querySelector("id")),issued:H(r.querySelector("issued")),title:H(r.querySelector("title")),summary:H(r.querySelector("summary")),link:(t=r.querySelector("link"),a="href",t?t.getAttribute(a):null),authorName:H(r.querySelector("author name")),authorEmail:H(r.querySelector("author email"))};n.issued&&(n.issued=new Date(n.issued).valueOf(),u=Math.max(u,n.issued)),s.push(n)}e({account:o,lastIssuedTime:u,count:i,emails:s})}else r()},n.onerror=r,n.open("GET",function(t){return l.f+"/mail/feed/atom?zx="+encodeURIComponent(t)}(t),!0),n.send(null)})}var V=r(107),J=r.n(V),K=r(22);const X=async({email:t,password:e,repeatPassword:r,code:n})=>{const a={email:J()(t).call(t),password:g()(e),repeatPassword:g()(r),code:J()(n).call(n)};try{return await d.a.post(l.x+"/user/register",a)}catch(t){return t}},Z=async({email:t,password:e})=>{const r={email:J()(t).call(t),password:g()(e)};try{return await d.a.post(l.x+"/user/login",r)}catch(t){return t}};async function Y(t){const e=(await Object(K.b)("store-user")).userInfo.uid;try{return await d.a.post(l.x+"/user/update_profile/"+e,t,{_auth:!0})}catch(t){throw new Error(t.message)}}async function Q(){try{return await d.a.get(l.x+"/user/get_user_profile",{},{_auth:!0,_proxy:!0})}catch(t){return t}}async function tt(t){const e=new FormData;e.append("file",t);try{const t=await d.a.post(l.x+"/upload/avatar",e,{_auth:!0,headers:{"Content-Type":"multipart/form-data"}});if(0===(null==t?void 0:t.code))return t;throw new Error(i18n("upload_avatar_failure"))}catch(t){throw new Error(t)}}async function et({originPassword:t,newPassword:e}){const r=await Object(K.b)("store-user"),n=r.userInfo.uid,{token:a}=r;if(!a)throw new Error(i18n("unknown_mistake"));const o={originPassword:g()(t),newPassword:g()(e)};try{return await d.a.post(l.x+"/user/modify_password/"+n,o,{_auth:!0})}catch(t){return t}}async function rt(t){try{return await d.a.post(l.x+"/user/forget_password",t)}catch(t){return t}}async function nt({password:t,repeatPassword:e,email:r,code:n}){const a={password:g()(t),repeatPassword:g()(e),email:J()(r).call(r),code:J()(n).call(n)};try{return await d.a.post(l.x+"/user/reset_password",a)}catch(t){return t}}async function at(t){try{return await d.a.post(`${l.x}/get_code?lang=${l.C.lang}`,t)}catch(t){return t}}async function ot(t){try{return await d.a.post(`${l.x}/get_register_code?lang=${l.C.lang}`,t)}catch(t){return t}}async function it(t){try{return await d.a.post(l.x+"/inspce_code",t)}catch(t){return t}}async function ct(){try{return await d.a.get(l.x+"/check_token",{},{_auth:!0})}catch(t){return t}}async function st(){const t=(await Object(K.b)("store-user")).userInfo.uid;try{return await d.a.post(l.x+"/user/delete/"+t,{},{_auth:!0})}catch(t){return t}}const ut=async t=>{try{return await d.a.post(l.x+"/user/login_uid",t,{timeout:1e4})}catch(t){return t}},lt=async t=>{try{return await d.a.post(l.x+"/user/v1_basic_login",t,{timeout:1e4})}catch(t){return t}},dt=async(t,e)=>{try{return await d.a.get(`${l.x}/user/user_hash?uid=${t}&secret=${e}`)}catch(t){return t}},ht=async()=>{try{const t=await d.a.get(l.x+"/login_code/mobile_code",{},{_auth:!0});return 0===t.code?{data:t.data}:{error:t}}catch(t){return{error:t}}},pt=async(t,e)=>{try{const r=await d.a.post(l.x+"/login_code/check",{code:t,type:e},{_auth:!0});return 0===r.code?{data:r.data}:{error:r}}catch(t){return{error:t}}},ft=async()=>{try{const t=await d.a.get(l.x+"/get_concat_info");if(0===t.code)return{data:t.data};throw t}catch(t){return{error:t}}},yt=async(t,e)=>{try{const{response:r,stack:n,config:a}=e;let o=r||a;o&&(o=JSON.stringify(o,(t,e)=>{if(e instanceof FormData){const t={};for(const[r,n]of e)t[r]=n;return t}if(e instanceof File){return{lastModified:e.lastModified,name:e.name,size:e.size,type:e.type}}return e}));let i=await Object(K.b)("store-user");if(i){const t=["mobileuid","avatar","refreshToken","secret","gender","name"];i=JSON.stringify(i,(e,r)=>{if(!t.includes(e))return r})}const c=await d.a.post(l.x+"/collect",{type:t,user:i,stack:n,info:o,env:Object.assign({},l.C)});if(0===c.code)return{data:c.data};throw c}catch(t){return{error:t}}},wt=async t=>{await d.a.get(t,void 0,{_proxy:!0,_proxyIgnoreRes:!0})},gt=t=>{const e=JSON.stringify(t),r=(new TextEncoder).encode(e);return new Blob([r],{type:"application/json;charset=utf-8"})},mt=t=>{const e={};return t.forEach(t=>{const{platform:r}=t;e[r]?e[r].push(t):e[r]=[t]}),e},_t=t=>{const{_id:e,_platform:r="pc"}=t;return{id:e,time:y.a.fmtTime(Number(e)),platform:r}},bt=async()=>{try{const t=await d.a.get(l.x+"/sync/list",void 0,{_auth:!0,_proxy:!0});if(0!==t.code)return{error:t};const e={};return e.auto=t.meta.auto.map(_t),e.manual=mt(t.meta.manual.map(_t)),{data:e}}catch(t){return{error:t}}},xt=async(t,e,r="all")=>{try{const n=await d.a.get(l.x+"/sync/download_url",{id:t,type:e,keys:r},{_auth:!0});if(0!==n.code)return{error:n};const a=n.data;let o={};const i=await W.a.all(a.map(e=>d.a.get(e.url+"&timestampid="+("latest"===t?Date.now():t),{},{timeout:18e4})));return a.forEach((t,r)=>{const n=t.fileKey;"manual"===e?o=Object.assign(Object.assign({},o),i[r]):"auto"===e&&(o[n]=i[r])}),{data:o}}catch(t){return yt("getSyncDetail",t),{error:t}}},vt=async(t,e="")=>{const r=Object.keys(t).join(",");try{const n=await d.a.get(l.x+"/sync/token",{type:"auto",keys:r},{_auth:!0});if(0!==n.code||!n.data.length)return{error:n};const a=n.data;await W.a.all(a.map(e=>{const{url:r,key:n,token:a,host:o}=e,i=new FormData;return i.append("token",a),i.append("key",r),i.append("file",gt(t[n])),d.a.post(o,i,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4})})),localStorage.setItem("pre-sync-id",a[0].timestamp+"");const o=await d.a.post(l.x+"/sync/done",{type:"auto",websocketkeys:e,keys:r,record_time:a[0].timestamp},{_auth:!0});return 0!==o.code?{error:o}:{data:o.meta.map(_t)}}catch(t){return yt("autoBackup",t),{error:t}}},kt=async t=>{try{const e=await d.a.get(l.x+"/sync/token",{type:"manual",keys:"data"},{_auth:!0});if(0!==e.code||!e.data.length)return{error:e};const{token:r,url:n,timestamp:a,host:o}=e.data[0],i=new FormData;i.append("token",r),i.append("key",n),i.append("file",gt(t)),await d.a.post(o,i,{headers:{"Content-Type":"multipart/form-data"},timeout:18e4});const c=await d.a.post(l.x+"/sync/done",{type:"manual",keys:"data",record_time:a},{_auth:!0});return 0!==c.code?{error:c}:{data:mt(c.meta.map(_t))}}catch(t){return yt("manualBackup",t),{error:t}}},St=t=>"pro"===t?async function(){try{const{userInfo:t={}}=await Object(K.b)("store-user"),{uid:e,secret:r}=t,n=await d.a.get(l.w+"/user/recovery-pro",{uid:e,secret:r},{timeout:2e5});if(n.success)return{data:n.data};throw n}catch(t){return yt("getProV1Data",t),{error:t}}}():"basic"===t?async function(){try{const t=await d.a.get(l.x+"/sync/recover_basic",{},{_auth:!0,timeout:2e5});return 0!==t.code?{error:t}:{data:t.data}}catch(t){return yt("getBasicV1Data",t),{error:t}}}():void 0;var Tt=r(257)}}]);